매핑(mapping)

🔴종류
- 밉맵( mipmap)
- UV 매핑 ( UV Mapping )
- 텍스처 매핑 ( Texture Mapping )
- 법선 매핑 ( Normal Mapping )
- 범프 매핑 ( Bump Mapping )
- 변위 매핑 ( Displacemaent Mapping )
- 절차적 매핑 ( Procedural Mapping )
- 라이트 매핑 ( Light Mapping )
- 반사 매핑 ( Reflection Mapping )
- 굴절 매핑 ( Refraction Mapping )
- 환경 매핑 ( Environment Mapping )
- 시차 매핑 ( Parallax Mapping )
- 그림자 매핑 ( Shadow Mapping )


🔴매핑
- 3D모델의 겉면에 세부적인 표현을 하거나 텍스처를 입히는 작업
- 2차원의 텍스처를 3차원 오브젝트의 표면(폴리곤)에 적용하는 것
- 다른 두 점을 서로 대응시키는 것을

⭕언랩(unwrap)
- 3D오브젝트에 텍스쳐를 쉽게 씌울 수 있도록 오브젝트를 펼치는 것


🔴밉맵( mipmap )
- 3차원 그래픽스의 텍스처 매핑분야에서 밉맵은 렌더링 속도를 향상시키기 위한 목적으로
  기본 텍스쳐와 이를 연속적으로 미리 축소시킨 텍스쳐들로 이루어진 비트맵이미지의 집합
- 밉맵사슬: 각 밉맵 수준의 크기가 그 이전 수준보다 각차원(너비, 높이 등)마다 1/2이다.
            이러한 밉맵 수준은 최하 1*1까지 내려간다.


🔴UV 매핑( UV Mapping )
- 2차원 그림(texture)을 3차원 모델로 만드는 3차원 모델링 프로세스
- 정육면체의 UV 매핑 표현으로 평평한 정육면체 전개도는 정육면체를 텍스쳐화할 수 있다.


🔴텍스쳐 매핑( Texture Mapping )
- 가상의 3차원 물체의 표면에 세부적인 질감을 묘사를 하거나 색을 칠하는 기법
- UV좌표가 0 ~ 1 범위 밖에 있을 때 이것을 처리하는 방법은 래핑(wrapping)이다.

래핑기법에는 기본적으로 랩(wrap : 반복) 모드, 미러(mirror)모드, 클램프(clamp : 비반복)모드 등이 있다.

⭕버텍스 버퍼( Vertex Buffer )
- 버텍스 : 3D 좌표에서 가장 기본적인 요소로 정점이라고도 한다.
          위치값, 색상, 법선( 접선 위의 접점과 수직인 선) 등의 여러 정보들을 가지고 있다.
- 저텍스버퍼 : 정접정보를 저장해 두는 정점들의 집합 버퍼
- 사용 이유 : 배열이 아닌 버텍스 버퍼를 쓰는 이유는 시스템 메모리에 저장한 데이터를 불러오는 것보다,
              비디오 메모리에 있는 데이터를 바로 렌더링하는 것이 속도 면에서 더 빠르기 때문

⭕버텍스 버퍼 매핑
- 폴리곤을 이루는 정점과 텍스쳐의 픽셀과 대응 시켜 매핑하는 방식의 방법
- 텍스쳐의 UV좌표와 메쉬를 이루는 각 폴리곤의 정점들을 대응시킨다.

⭕인덱스 버퍼
- 정점의 인덱스를 보관하기 위한 전용버퍼
- 중복되는 정점에 대한 메모리 낭비를 보완
- 하나의 버텍스 버퍼를 하나의 인덱스로 묶어 인덱스 번호로 관리

장점
- 중복되는 정점을 피하므로 메모리의 효율성이 좋다.
- 인덱스적 접근을 하므로 접근하기가 좋다.

단점
- 텍스쳐의 UV좌표를 공유하기 때문에 텍스쳐가 제대로 매핑되지 않는다.
- 해결법 : 🔆전개도 매핑, 🔆투영매핑

🔆전개도 매핑
- 모형의 그래픽 화면 표시를 모형뷰 또는 전개도라고 한다.
- 인덱스 버퍼는 버텍스가 8개만 존재하기 때문에 텍스쳐 한 장으로 UV를 분할하여 씌우는 방법을 사용한다.
- 8개의 정점으로는 텍스쳐 UV를 다 표현할 수없기 때문에 버텍스 정점을 14개로 설정하여 사용하였다.
⭕전개도 매핑 사용이유
- 정점인 8개의 큐브를 인덱스 버퍼로 표현햇을때 버텍스 수의 부족으로 정상적으로 매핑을 하기 어렵다.
- 큐브의 3D 좌표는 같지만 좌표값을 사용하지는 않는 버텍스를 추가시켜서 UV좌표를 추가로 잡아주어야 한다.

🔆투영 매핑
- 텍스쳐 이미지를 3D모델을 폈을 때의 모양으로 변형시킨 이미지를 매핑하는 방법이다.
- 투영 매핑을 사용하면 10개의 버텍스만으로 텍스쳐를 입힐 수 있다.
- 일반적인 텍스쳐 전개도를 수정해주어야한다. 완전히 펴주어야 한다.
- 일반 텍스쳐 전개도에서는 떨어져 있던 UV좌표를 잡아 늘려 일치시킴으로써 필요한 정점의 개수를 줄이는 것


🔴법선 매핑( Normal Mapping )
- 로우 폴리곤(low polygon)모델 오브젝트에 폴리곤 수를 늘리지 않고도 디테일을 추가할 수 있는 기법
- 거친 질감을 표현하기 위해 특수한 텍스쳐를 사용해 법선벡터를 섭동시켜 픽셀마다 조명계산을 하게 하여 기복이 있는 것처럼 보이게 한다.
- 법선이 모형 공간안에서 정의되었다면 기하 구조가 변형될 때마다 법선을 다시 계산해야 한다.
⭕생성 과정 : 하이 폴리곤 모델과 형태가 비슷한 로우폴리곤 모델이 필요하다.


🔴범프 매핑( Bump Mapping )
- 울퉁불퉁한 표면을 텍스쳐를 통해 좀 더 사실적으로 나타내기 위한 기법
- 오브젝트에 적용된 매핑 소스의 밝기 값에 따라 오브젝트 표면의 Normal값을 변화시켜 울퉁불퉁한 표면을 처리모델의 음영정보를 가진 텍스쳐에서 높이 값을 참조 한다.
- 실제 정점의 데이터가 변경되는 것이 아닌 눈속임에 의해 입체감을 주는 효과


🔴변위 매핑( Displacement Mapping )
- 표면의 점을 공간적으로 이동시켜서 실제로 오목하로 볼록하게 만드는 기법
- 테셀레이션을 통해 폴리곤을 미세한 조각으로 세분화하여 잘라진 정점을 조정하여 모델 표면을 좀 더 사실적으로 표현하였다.


🔴절차적 매핑( Procedural Mapping )
- 사용자에 의해 주어지는 변수 값들을 바탕으로 프렉탈이나 노이즈 같은 수학 함수에 의해 텍스쳐 맵을 생성하여 오브젝트에 매핑 시키는 방식
- 텍스쳐 데이터를 지정된 패턴을 통해 생성함으로써 적은 용량으로 다양한 효과를 표현할 수 있게 하는 기술이다.
⭕프렉탈
- 부분과 전체가 똑같은 모양을 하고 있다는 자기 유사성 개념을 기하학적으로 푼 구조를 말한다. 
- 단순한 구조가 끊임없이 반복되면서 복잡하고 묘한 전체 구조를 만드는 것으로 자기 유사성과 순환성이라는 특징을 가진다.
⭕요약 : 작은 구조가 전체 구조와 비슷한 형태로 끝없이 되풀이 되는 구조
⭕절차적 텍스쳐
- 텍스쳐 데이터를 지정된 패턴을 통해 생성함으로써 적은 용량으로 다양한 효과를 표현할 수 있게 하는 기술이다. 
- 절차적텍스쳐는 파일 크기가 작다는 점 외에도 동적으로 텍스쳐를 변경할 수 있어 해상도별로 최적의 텍스쳐를 제작할 수 있다.


🔴라이트 매핑( Light Mapping )
- 정적인 물체에 한해, 간접 광까지 고려한 효과를 미리 수행하여 텍스쳐에 저장한 후, 이를 혼합하여 현실적인 렌더링 효과를 만들어 내는 기법
- 일반텍스쳐 * 라이트맵 텍스쳐 = 라이트 매핑이 적용된 결과


🔴반사 매핑( Reflection Mapping )
- 금속 등의 경면 반사체에 주위의 환경이 비쳐 드는 모양을 의사적으로 표현하기 위한 매핑 기법
- 픽셀의 색을 구할 때는 시선과 대상물과의 교점에서의 반사 벡터를 연장시켜 가상 입체와의 교점을 구해 그 점의 색을 픽셀의 색으로 한다.


🔴굴절 매핑( Refraction Mapping )
- 투명 물체의 광굴절 현상을 실제와 비슷하게 재현하는 기법
- 모형화 된 물체 면에 주위의 풍경을 펴서 붙이는 환경 매핑의 방법으로 실제와 아주 비슷하게 모방할수 있다.


🔴환경 매핑( Environment Mapping )
- 오브젝트 주변의 배경들이 반사된 모습을 표현하는 기법
- 이론상 오브젝트 주변의 모든 물체를 무한한 거리까지 처리해야한다.
- 오브젝트 주변 모든 방향에 대해서 반사되는 부분을 구해야한다.
- 환경매핑의 이론은 주변환경만 매핑시키고 자신을 매핑시키지는 못한다.
- 종류로는 큐브형, 구형 두가지 방식이 있다.


🔴시차 매핑( Parallax Mapping )
- 법선 벡터를 추가해서 그 미세 요철의 높이 정보도 이용한다.
- 높이 정보는 법선 맵을 생성할 때의 중간 정보인 높이 맵에 해당한다.
- 보통의 범프 매핑이 가진 부자연스러움이 원인으로, 시차매핑은 법선 맵 참조 위치를 요철의 높이를 기록한 높이 맵 정보를 바탕으로
  재조정하는 버전의 범프 매핑의 개량형이라고 한다.


🔴그림자 매핑( Shadow Mapping )
- 광원의 관점에서 본 장면 깊이를 텍스쳐 대상 렌더링 기법을 이용해서 깊이 버퍼에 기록하는 것
- 평행광의 광선들은 광원 시야 입체안에서 나아가므로, 장면 중 그 입체 안에 있는 부분만 빛을 받게 된다.
